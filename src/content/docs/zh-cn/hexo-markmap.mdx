---
title: hexo-markmap
---
import { Tabs, TabItem, Aside, Steps, FileTree } from '@astrojs/starlight/components';

<div id="badges">

[![Version](https://img.shields.io/npm/v/hexo-markmap)](https://npm.im/hexo-markmap)
[![Version](https://img.shields.io/npm/d18m/hexo-markmap)](https://npm.im/hexo-markmap)
[![GithubStars](https://img.shields.io/github/stars/markmap-universe/hexo-markmap?style=flat&logo=github&color=yellow)](https://github.com/markmap-universe/hexo-markmap)

</div>

åœ¨ä½ çš„ Hexo åšå®¢ä¸­æ’å…¥æ€ç»´å¯¼å›¾ï¼Œä½¿ç”¨ [markmap](https://markmap.js.org/)ã€‚

<Aside type="caution">

è¿™æ˜¯ `hexo-markmap@2` çš„æ–‡æ¡£ã€‚å¦‚æœä½ æ­£åœ¨ä½¿ç”¨ `hexo-markmap@1`ï¼Œè¯·æŸ¥çœ‹ [è¿™é‡Œ](https://github.com/markmap-universe/hexo-markmap/tree/legacy)ã€‚

å¦‚æœä½ æƒ³å‡çº§åˆ° `hexo-markmap@2`ï¼Œè¯·æŸ¥çœ‹ [è¿™é‡Œ](#å‡çº§åˆ°-hexo-markmap2)ã€‚

</Aside>

## å®‰è£…

<Tabs syncKey="pkg">
<TabItem label="pnpm">
```sh
pnpm add hexo-markmap -D
```
</TabItem>

<TabItem label="npm">
```sh
npm install hexo-markmap --save-dev
```
</TabItem>

<TabItem label="yarn">
```sh
yarn add hexo-markmap --dev
```
</TabItem>
</Tabs>

<Aside type="tip">
è¯•è¯•æˆ‘ä»¬çš„æ–° VS Code æ‰©å±• [markmap-universe](https://marketplace.visualstudio.com/items?itemName=maxchang.vscode-markmap-universe)ï¼Œç›´æ¥é¢„è§ˆä½ çš„ `hexo-markmap` æ€ç»´å¯¼å›¾ã€‚
</Aside>

## ä½¿ç”¨

```markdown
{% markmap %}
---
markmap:
  colorFreezeLevel: 2
---
# Markdown
# Syntax
{% endmarkmap %}
```

## å†…è”é€‰é¡¹

ä½ å¯ä»¥åœ¨ markmap æ ‡ç­¾ï¼ˆ`{% markmap %} ... {% endmarkmap %}`ï¼‰ä¸­è‡ªå®šä¹‰æ¯ä¸ªæ€ç»´å¯¼å›¾ã€‚

### Frontmatter é€‰é¡¹

å°±åƒä½ åœ¨ Hexo ä¸­çš„ Markdown æ–‡ä»¶ä¸­ä½¿ç”¨ frontmatter ä¸€æ ·ï¼Œä½ å¯ä»¥åœ¨ `markmap` æ ‡ç­¾ä¸­ä½¿ç”¨ frontmatter æ¥è‡ªå®šä¹‰ä½ çš„æ€ç»´å¯¼å›¾ï¼

æ‰€æœ‰ frontmatter é€‰é¡¹éƒ½æ˜¯å¯é€‰çš„ã€‚

- **`id`**ï¼šç”¨äºå®šä¹‰ `markmap-wrap` å…ƒç´ çš„ IDã€‚  

- **`markmap`**ï¼šå¯¹åº” markmap é¡¹ç›®ä¸­çš„ [`IMarkmapJSONOptions`](https://markmap.js.org/api/interfaces/markmap-view.IMarkmapJSONOptions.html)ã€‚æœ‰å…³æ›´å¤šè¯¦ç»†ä¿¡æ¯ï¼Œè¯·å‚è€ƒ [`jsonOptions`](https://markmap.js.org/docs/json-options#option-list)ã€‚

### æ ‡ç­¾é€‰é¡¹

ä½ è¿˜å¯ä»¥ç›´æ¥åœ¨æ ‡ç­¾ä¸­æŒ‡å®šæ€ç»´å¯¼å›¾çš„é«˜åº¦ï¼Œé»˜è®¤æƒ…å†µä¸‹ä¼šæ ¹æ®å†…å®¹è¿›è¡Œè®¡ç®—ã€‚

```markdown
{% markmap 300px %}
# Markdown
# Syntax
{% endmarkmap %}
```

## é…ç½®

å°†ç›¸åº”å†…å®¹è¿½åŠ åˆ° `config.yml` ä¸­ã€‚

<FileTree>
- hexo-project
  - config.yml
  - source
    - _posts/
</FileTree>


çº¦å®šå¤§äºé…ç½®ï¼Œå¦‚æœä½ ä¸éœ€è¦ä»¥ä¸‹æŸä¸ªåŠŸèƒ½ï¼Œé‚£ä¹ˆæ— éœ€æ·»åŠ è¯¥é…ç½®é¡¹ã€‚ 

é»˜è®¤æƒ…å†µä¸‹å³å¯æ­£å¸¸å·¥ä½œã€‚æ¯ä¸ªé€‰é¡¹éƒ½æœ‰é»˜è®¤å€¼ã€‚

### é»˜è®¤é…ç½®


```yaml
hexo_markmap:
  darkThemeCssSelector: '.dark'
  CDN: 'fastly'
```

- **`darkThemeCssSelector`** : ç”¨äºæŒ‡å®šæš—é»‘ä¸»é¢˜çš„CSSé€‰æ‹©å™¨ã€‚
- **`CDN`** : ç”¨äºæŒ‡å®š Markmap çš„ CDNã€‚ç›®å‰æ”¯æŒçš„å€¼æœ‰ `fastly` ã€ `jsdelivr`ã€ `unpkg`ã€‚
  - å¦‚æœè®¾ç½®ä¸º `custom`ï¼Œåˆ™ `customCDN` çš„å€¼å°†è¢«ç”¨ä½œ CDN çš„å‰ç¼€ã€‚
- **`customCDN`** : ä¸º Markmap å®šä¹‰è‡ªå®šä¹‰ CDN URLã€‚è¿™å¿…é¡»æ˜¯ä¸€ä¸ªæœ‰æ•ˆçš„ URLã€‚
- **`globalOptions`** : ç”¨äºä¸ºæ‰€æœ‰æ€ç»´å¯¼å›¾å®šä¹‰å…¨å±€é€‰é¡¹ã€‚  
  - å¯¹åº”ä¸Šé¢çš„ [Frontmatter é€‰é¡¹](#frontmatter-é€‰é¡¹)ã€‚

## å‡çº§åˆ° `hexo-markmap@2`

`hexo-markmap@2` æ˜¯ç”± [@coderxi1](https://github.com/coderxi1/) ä¸ [@maxchang3](https://github.com/maxchang3/) å…¨æ–°é‡æ„çš„ç‰ˆæœ¬ã€‚è¯¥ç‰ˆæœ¬å‡çº§è‡³æœ€æ–°çš„ Markmapï¼Œå¼•å…¥äº†æ›´å¤šè‡ªå®šä¹‰é€‰é¡¹ï¼Œå…·ä½“æ”¹è¿›åŒ…æ‹¬ï¼š

- å¯åœ¨å•ä¸ª Markmap æ ‡ç­¾ä¸­ï¼Œé€šè¿‡ frontmatter è‡ªå®šä¹‰ï¼š
  - CSS æ ·å¼ï¼ˆå®ç°è‡ªå®šä¹‰é«˜åº¦ã€å®½åº¦ã€å“åº”å¼å¸ƒå±€ç­‰ï¼‰
    <Aside type="tip">
    è‡ª v2.0.5 èµ·ï¼Œä¸å†æ”¯æŒåœ¨ frontmatter ä¸­è®¾ç½®æ ·å¼ã€‚ä½†ä½ å¯ä»¥ç»“åˆ `id` é€‰é¡¹ç›´æ¥åœ¨ `<style>` æ ‡ç­¾ä¸­å®šä¹‰æ ·å¼ã€‚
    </Aside>
  - Markmap çš„ [JSON Options](https://markmap.js.org/docs/json-options#option-list)
- åˆ©ç”¨ Markmap å†…ç½®çš„ URL Builder è‡ªåŠ¨ç”Ÿæˆ CDN åœ°å€
- æ ¹æ®è¯­æ³•è‡ªåŠ¨ç”Ÿæˆç›¸åº”çš„ CDN æ ‡ç­¾
- æ”¯æŒæ·±è‰²æ¨¡å¼ä¸å…¨å±æŒ‰é’®
- ä½¿ç”¨ TypeScript é‡æ„ï¼Œå¹¶è¦†ç›–äº†æµ‹è¯•ç”¨ä¾‹

éœ€è¦æ³¨æ„çš„æ˜¯ï¼Œç”±äºéƒ¨åˆ†å®ç°ç»†èŠ‚å·²ä¸ `hexo-markmap@1` ä¸åŒï¼Œå¦‚å¯¹ä¸Šè¿°æ–°åŠŸèƒ½æ²¡æœ‰å¼ºçƒˆéœ€æ±‚ï¼Œä»å¯ç»§ç»­ä½¿ç”¨ `hexo-markmap@1`ã€‚

è‹¥éœ€å‡çº§è‡³ `hexo-markmap@2`ï¼Œè¯·å‚è€ƒä»¥ä¸‹æ­¥éª¤ï¼š

<Steps>
1. ä½¿ç”¨ä½ å–œæ¬¢çš„åŒ…ç®¡ç†å™¨å®‰è£… `hexo-markmap@2`ï¼š

    <Tabs syncKey="pkg">
      <TabItem label="pnpm">
        ```sh
        pnpm add hexo-markmap@2 -D
        ```
      </TabItem>
      <TabItem label="npm">
        ```sh
        npm install hexo-markmap@2 --save-dev
        ```
      </TabItem>
      <TabItem label="yarn">
        ```sh
        yarn add hexo-markmap@2 -D
        ```
      </TabItem>
    </Tabs>

2. æ ¹æ®éœ€è¦ä¿®æ”¹ `config.yml` ä¸­çš„é…ç½®ï¼š

   - ä»¥ä¸‹é…ç½®é¡¹**å·²ä¸å†æ”¯æŒ**ï¼š
    ```diff lang="yaml"
      hexo_markmap:
      -  pjax: false
      -  katex: false
      -  prism: false
      -  lockView: false
      -  fixSVGAttrNaN: false
      ```
      - å½“å‰ç‰ˆæœ¬å·²æ”¾å¼ƒå¯¹ `pjax` çš„å…¼å®¹æ€§ï¼›
      - KaTeX ä¸ Prism.js ç°å¯è‡ªåŠ¨æ£€æµ‹å¹¶ç”Ÿæˆç›¸åº”çš„ CDN æ ‡ç­¾ï¼›
      - åŒæ—¶å°† frontmatter ä¸­ `markmap` çš„ `pan` å’Œ `zoom` è®¾ä¸º `false`ï¼Œå³å¯è¾¾åˆ°ä¸ `lockView` ç›¸åŒçš„æ•ˆæœã€‚
   - `CDN` é…ç½®é€»è¾‘ä¹Ÿæœ‰æ‰€è°ƒæ•´ï¼š
      ```diff lang="yaml"
      hexo_markmap:
      -  userCDN:
      -    d3_js: https://fastly.jsdelivr.net/npm/d3@6
      -    markmap_view_js: https://fastly.jsdelivr.net/npm/markmap-view@0.2.7
      -    katex_css: https://fastly.jsdelivr.net/npm/katex@0.12.0/dist/katex.min.css
      -    prism_css: https://fastly.jsdelivr.net/npm/prismjs@1.25.0/themes/prism.css
      +  CDN: 'custom'
      +  customCDN: 'https://fastly.jsdelivr.net/npm/'
      ```
      - ç°åœ¨çš„ `CDN` é…ç½®æ”¯æŒ `fastly`ã€`jsdelivr`ã€`unpkg` ä¸‰ä¸ªé€‰é¡¹ä»¥åŠ `custom` è‡ªå®šä¹‰é€‰é¡¹ï¼›
      - å¦‚æœé€‰æ‹© `custom`ï¼Œåˆ™ `customCDN` çš„å€¼å°†ä½œä¸º CDN å‰ç¼€ä½¿ç”¨ã€‚

    - æ­¤å¤–ï¼Œä¹‹å‰å¯ä¼ å…¥çš„ `depth` å‚æ•°ä»¥æŒ‡å®šæŠ˜å æ·±åº¦å·²ç§»é™¤ï¼Œä½ å¯ä»¥åœ¨ frontmatter ä¸­ä½¿ç”¨ `options` é…ç½® `initialExpandLevel`ã€‚
3. æ›´æ–°ä½ çš„ Markdown æ–‡ä»¶ä¸­çš„ `markmap` æ ‡ç­¾ï¼š

    - ç°åœ¨ `markmap` æ ‡ç­¾æ”¯æŒ frontmatter é€‰é¡¹ã€‚ä½ å¯ä»¥ç›´æ¥åœ¨æ ‡ç­¾ä¸­æŒ‡å®šé€‰é¡¹ï¼Œä¾‹å¦‚ï¼š
      ```markdown
      {% markmap %}
      ---
      markmap:
        colorFreezeLevel: 2
      ---
      # Markdown
      # Syntax
      {% endmarkmap %}
      ```

   - ä½ ä»ç„¶å¯ä»¥ç›´æ¥åœ¨æ ‡ç­¾ä¸­è‡ªå®šä¹‰æ€ç»´å¯¼å›¾çš„é«˜åº¦ï¼Œä½†é»˜è®¤æƒ…å†µä¸‹ä¼šæ ¹æ®å†…å®¹è¿›è¡Œè®¡ç®—ï¼š
    ```diff markdown
    - {% markmap 300px %}
    + {% markmap %}
    # Markdown
    # Syntax
    {% endmarkmap %}
    ```

4. æœ€åï¼Œé‡æ–°ç”Ÿæˆä½ çš„åšå®¢ã€‚
</Steps>


## ç¤ºä¾‹

<details>
````markdown
{% markmap %}
---
markmap:
  colorFreezeLevel: 2
---

## Links

- [Website](https://markmap.js.org/)
- [GitHub](https://github.com/gera2ld/markmap)

## Related Projects

- [coc-markmap](https://github.com/gera2ld/coc-markmap) for Neovim
- [markmap-vscode](https://marketplace.visualstudio.com/items?itemName=gera2ld.markmap-vscode) for VSCode
- [eaf-markmap](https://github.com/emacs-eaf/eaf-markmap) for Emacs

## Features

Note that if blocks and lists appear at the same level, the lists will be ignored.

### Lists

- **strong** ~~del~~ *italic* ==highlight==
- `inline code`
- [x] checkbox
- Katex: $x = {-b \pm \sqrt{b^2-4ac} \over 2a}$ <!-- markmap: fold -->
  - [More Katex Examples](#?d=gist:af76a4c245b302206b16aec503dbe07b:katex.md)
- Now we can wrap very very very very long text based on `maxWidth` option
- Ordered list
  1. item 1
  2. item 2

### Blocks
<!-- To avoid hexo treat the following as code block, we need to use a list -->
- ```js 
  console.log('hello, JavaScript')
  ```

- | Products | Price |
  |-|-|
  | Apple | 4 |
  | Banana | 2 |

- ![](https://markmap.js.org/favicon.png)
{% endmarkmap %}
````
</details>

## è´¡çŒ®è€…

æ„Ÿè°¢æ‰€æœ‰çš„è´¡çŒ®è€…ğŸ¥°ï¼

<a href="https://github.com/maxchang3/hexo-markmap/graphs/contributors">
  <img src="https://contrib.rocks/image?repo=maxchang3/hexo-markmap" />
</a>

## Credits

- å¦‚æœæ²¡æœ‰ [markmap](https://markmap.js.org/)ï¼Œè¿™ä¸ªé¡¹ç›®ä¸å¯èƒ½å­˜åœ¨ã€‚
- æœ€åˆå—åˆ°äº† [hexo-simple-mindmap](https://github.com/HunterXuan/hexo-simple-mindmap) çš„å¯å‘ã€‚
- æ„Ÿè°¢ [@coderxi1](https://github.com/coderxi1/) å¯¹æœ€åˆ 2.0 ç‰ˆæœ¬çš„æ„æ€å’Œå®ç°ï¼

